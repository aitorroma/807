<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantalla de Login</title>
</head>
<body style="margin: 0; padding: 0; height: 100vh; display: flex; justify-content: center; align-items: center; background-color: #f0f0f0;">

<!-- Contenedor para ingresar contraseña -->
<div id="loginOverlay" class="overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 1); display: flex; justify-content: center; align-items: center; z-index: 100;">
  <div class="loginPopup" style="background: #fff; padding: 20px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);">
    <h2 style="margin-top: 0;">Ingreso Requerido</h2>
    <p>Por favor, ingresa la contraseña para acceder.</p>
    <input type="password" id="password" placeholder="Contraseña" style="padding: 10px; margin-bottom: 10px; width: 100%; box-sizing: border-box;">
    <button id="loginButton" style="display: block; width: 100%; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Ingresar</button>
    <p id="errorMessage" style="color: red; display: none;">Contraseña incorrecta. Intenta nuevamente.</p>
  </div>
</div>

<!-- Contenido principal oculto inicialmente -->
<div id="content" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center;">
  <div id="categoriesContainer" style="display: grid; grid-template-columns: 1fr; gap: 20px; width: 100%; height: 100%; padding: 20px; box-sizing: border-box;">
    <!-- Los números rotativos se mostrarán aquí -->
  </div>
</div>

<!-- Contenedor para el mensaje de permiso de sonido -->
<div id="soundPermissionOverlay" class="overlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.7); z-index: 101; display: flex; justify-content: center; align-items: center;">
  <div class="soundPermissionPopup" style="background: #fff; padding: 20px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); text-align: center;">
    <h2 style="margin-top: 0;">Permisos de Sonido</h2>
    <p>Activa un sonido de alerta para indicar que se actualizó el número a facilitar</p>
    <button id="aceptarSonido" style="margin-top: 20px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Aceptar</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const loginButton = document.getElementById('loginButton');
  const passwordInput = document.getElementById('password');
  const errorMessage = document.getElementById('errorMessage');
  const loginOverlay = document.getElementById('loginOverlay');
  const content = document.getElementById('content');
  const soundPermissionOverlay = document.getElementById('soundPermissionOverlay');

const numeros = [
    '807 456 760',
    '807 456 761',
    '807 456 762',
    '807 456 763',
    '807 456 764',
    '807 456 765',
    '807 456 766',
    '807 456 767',
    '807 456 768',
    '807 456 769',
    '807 456 150',
    '807 456 151',
    '807 456 152',
    '807 456 153',
    '807 456 154',
    '807 456 155',
    '807 456 156',
    '807 456 157',
    '807 456 158',
    '807 456 159',
    '807 456 040',
    '807 456 041',
    '807 456 042',
    '807 456 043',
    '807 456 044',
    '807 456 045',
    '807 456 046',
    '807 456 047',
    '807 456 048',
    '807 456 049',
    '807 456 350',
    '807 456 351',
    '807 456 352',
    '807 456 353',
    '807 456 354',
    '807 456 355',
    '807 456 356',
    '807 456 357',
    '807 456 358',
    '807 456 359',
    '807 456 460',
    '807 456 461',
    '807 456 462',
    '807 456 463',
    '807 456 464',
    '807 456 465',
    '807 456 466',
    '807 456 467',
    '807 456 468',
    '807 456 469',
    '807 456 560',
    '807 456 561',
    '807 456 562',
    '807 456 563',
    '807 456 564',
    '807 456 565',
    '807 456 566',
    '807 456 567',
    '807 456 568',
    '807 456 569',
    '807 456 920',
    '807 456 921',
    '807 456 922',
    '807 456 923',
    '807 456 924',
    '807 456 926',
    '807 456 927',
    '807 456 928',
    '807 456 929',
    '807 456 090',
    '807 456 091',
    '807 456 092',
    '807 456 093',
    '807 456 094',
    '807 456 095',
    '807 456 096',
    '807 456 097',
    '807 456 098',
    '807 456 170',
    '807 456 171',
    '807 456 172',
    '807 456 173',
    '807 456 174',
    '807 456 175',
    '807 456 176',
    '807 456 177',
    '807 456 178',
    '807 456 179',
    '807 456 270',
    '807 456 271',
    '807 456 272',
    '807 456 273',
    '807 456 274',
    '807 456 275',
    '807 456 276',
    '807 456 277',
    '807 456 278',
    '807 456 279',
    '807 456 390',
    '807 456 391',
    '807 456 392',
    '807 456 393',
    '807 456 394',
    '807 456 395',
    '807 456 396',
    '807 456 397',
    '807 456 398',
    '807 456 399',
    '807 456 420',
    '807 456 421',
    '807 456 422',
    '807 456 423',
    '807 456 424',
    '807 456 425',
    '807 456 426',
    '807 456 428',
    '807 456 429',
    '807 456 510',
    '807 456 511',
    '807 456 512',
    '807 456 513',
    '807 456 514',
    '807 456 515',
    '807 456 516',
    '807 456 517',
    '807 456 518',
    '807 456 519',
    '807 456 590',
    '807 456 591',
    '807 456 592',
    '807 456 593',
    '807 456 594',
    '807 456 595',
    '807 456 596',
    '807 456 597',
    '807 456 598',
    '807 456 599',
    '807 456 740',
    '807 456 741',
    '807 456 742',
    '807 456 743',
    '807 456 744',
    '807 456 745',
    '807 456 746',
    '807 456 747',
    '807 456 748',
    '807 456 749',
    '807 456 070',
    '807 456 071',
    '807 456 072',
    '807 456 073',
    '807 456 074',
    '807 456 075',
    '807 456 076',
    '807 456 077',
    '807 456 078',
    '807 456 079',
    '807 456 130',
    '807 456 131',
    '807 456 132',
    '807 456 133',
    '807 456 134',
    '807 456 135',
    '807 456 136',
    '807 456 137',
    '807 456 138',
    '807 456 139',
    '807 456 280',
    '807 456 281',
    '807 456 282',
    '807 456 283',
    '807 456 284',
    '807 456 285',
    '807 456 286',
    '807 456 287',
    '807 456 288',
    '807 456 289',
    '807 456 370',
    '807 456 371',
    '807 456 372',
    '807 456 373',
    '807 456 374',
    '807 456 375',
    '807 456 376',
    '807 456 377',
    '807 456 378',
    '807 456 379',
    '807 456 490',
    '807 456 491',
    '807 456 492',
    '807 456 493',
    '807 456 495',
    '807 456 496',
    '807 456 497',
    '807 456 498',
    '807 456 499',
    '807 456 790',
    '807 456 791',
    '807 456 792',
    '807 456 793',
    '807 456 794',
    '807 456 795',
    '807 456 796',
    '807 456 797',
    '807 456 798',
    '807 456 799',
    '807 456 860',
    '807 456 861',
    '807 456 862',
    '807 456 863',
    '807 456 864',
    '807 456 865',
    '807 456 866',
    '807 456 867',
    '807 456 868',
    '807 456 869',
    '807 456 880',
    '807 456 881',
    '807 456 882',
    '807 456 883',
    '807 456 884',
    '807 456 885',
    '807 456 886',
    '807 456 887',
    '807 456 888',
    '807 456 889',
    '807 456 940',
    '807 456 941',
    '807 456 942',
    '807 456 943',
    '807 456 944',
    '807 456 945',
    '807 456 946',
    '807 456 947',
    '807 456 948',
    '807 456 949',
    '807 456 980',
    '807 456 981',
    '807 456 982',
    '807 456 983',
    '807 456 984',
    '807 456 985',
    '807 456 986',
    '807 456 987',
    '807 456 988',
    '807 456 989',
    '807 456 210',
    '807 456 211',
    '807 456 212',
    '807 456 213',
    '807 456 214',
    '807 456 215',
    '807 456 216',
    '807 456 217',
    '807 456 218',
    '807 456 219',
    '807 456 110',
    '807 456 111',
    '807 456 112',
    '807 456 113',
    '807 456 114',
    '807 456 115',
    '807 456 116',
    '807 456 117',
    '807 456 118',
    '807 456 119',
    '807 456 320',
    '807 456 321',
    '807 456 322',
    '807 456 323',
    '807 456 324',
    '807 456 325',
    '807 456 326',
    '807 456 327',
    '807 456 328',
    '807 456 430',
    '807 456 431',
    '807 456 432',
    '807 456 433',
    '807 456 434',
    '807 456 435',
    '807 456 436',
    '807 456 437',
    '807 456 438',
    '807 456 439',
    '807 456 450',
    '807 456 451',
    '807 456 452',
    '807 456 453',
    '807 456 454',
    '807 456 455',
    '807 456 457',
    '807 456 458',
    '807 456 459',
    '807 456 470',
    '807 456 471',
    '807 456 472',
    '807 456 473',
    '807 456 474',
    '807 456 475',
    '807 456 476',
    '807 456 477',
    '807 456 478',
    '807 456 479',
    '807 456 630',
    '807 456 631',
    '807 456 632',
    '807 456 633',
    '807 456 634',
    '807 456 635',
    '807 456 637',
    '807 456 638',
    '807 456 639',
    '807 456 650',
    '807 456 651',
    '807 456 652',
    '807 456 653',
    '807 456 654',
    '807 456 655',
    '807 456 656',
    '807 456 657',
    '807 456 658',
    '807 456 659',
    '807 456 930',
    '807 456 931',
    '807 456 932',
    '807 456 933',
    '807 456 934',
    '807 456 935',
    '807 456 936',
    '807 456 937',
    '807 456 938',
    '807 456 939',
    '807 456 456',
    '807 456 250',
    '807 456 251',
    '807 456 252',
    '807 456 253',
    '807 456 254',
    '807 456 255',
    '807 456 256',
    '807 456 257',
    '807 456 258',
    '807 456 259',
    '807 456 330',
    '807 456 331',
    '807 456 332',
    '807 456 333',
    '807 456 334',
    '807 456 335',
    '807 456 336',
    '807 456 337',
    '807 456 338',
    '807 456 339',
    '807 456 220',
    '807 456 221',
    '807 456 222',
    '807 456 223',
    '807 456 224',
    '807 456 225',
    '807 456 226',
    '807 456 227',
    '807 456 228',
    '807 456 229',
    '807 456 230',
    '807 456 231',
    '807 456 232',
    '807 456 233',
    '807 456 234',
    '807 456 235',
    '807 456 236',
    '807 456 237',
    '807 456 238',
    '807 456 239',
    '807 456 260',
    '807 456 261',
    '807 456 262',
    '807 456 263',
    '807 456 264',
    '807 456 265',
    '807 456 266',
    '807 456 267',
    '807 456 268',
    '807 456 269',
    '807 456 290',
    '807 456 291',
    '807 456 292',
    '807 456 293',
    '807 456 294',
    '807 456 295',
    '807 456 296',
    '807 456 297',
    '807 456 298',
    '807 456 299',
    '807 456 300',
    '807 456 301',
    '807 456 302',
    '807 456 303',
    '807 456 304',
    '807 456 305',
    '807 456 306',
    '807 456 307',
    '807 456 308',
    '807 456 309',
    '807 456 500',
    '807 456 501',
    '807 456 502',
    '807 456 503',
    '807 456 504',
    '807 456 505',
    '807 456 506',
    '807 456 507',
    '807 456 508',
    '807 456 509',
    '807 456 520',
    '807 456 521',
    '807 456 522',
    '807 456 523',
    '807 456 524',
    '807 456 525',
    '807 456 526',
    '807 456 527',
    '807 456 528',
    '807 456 529',
    '807 456 540',
    '807 456 541',
    '807 456 542',
    '807 456 543',
    '807 456 544',
    '807 456 545',
    '807 456 546',
    '807 456 547',
    '807 456 548',
    '807 456 549',
    '807 456 550',
    '807 456 551',
    '807 456 552',
    '807 456 553',
    '807 456 554',
    '807 456 555',
    '807 456 556',
    '807 456 557',
    '807 456 558',
    '807 456 559',
    '807 456 580',
    '807 456 581',
    '807 456 582',
    '807 456 583',
    '807 456 584',
    '807 456 585',
    '807 456 586',
    '807 456 587',
    '807 456 588',
    '807 456 589'
];

  let currentIndex = 0;

  loginButton.addEventListener('click', function() {
    const password = passwordInput.value;
    if (password === 'ring807') {
      loginOverlay.style.display = 'none'; // Ocultar la capa de contraseña
      content.style.display = 'flex';
      soundPermissionOverlay.style.display = 'flex'; // Mostrar el mensaje de permisos de sonido
    } else {
      errorMessage.style.display = 'block';
    }
  });

  const aceptarSonidoButton = document.getElementById('aceptarSonido');
  aceptarSonidoButton.addEventListener('click', function() {
    soundPermissionOverlay.style.display = 'none'; // Ocultar el mensaje de permisos de sonido
    mostrarNumeroFijo();
    setInterval(rotarNumeroAleatorio, 180000); // 180000 milisegundos = 3 minutos
  });

  function mostrarNumeroFijo() {
    const numeroAleatorio = numeros[Math.floor(Math.random() * numeros.length)];
    const numeroContainer = document.createElement('div');
    numeroContainer.style.display = 'flex';
    numeroContainer.style.flexDirection = 'column';
    numeroContainer.style.alignItems = 'center';
    numeroContainer.style.justifyContent = 'center';
    numeroContainer.style.background = 'rgba(255, 255, 255, 0.2)';
    numeroContainer.style.borderRadius = '10px';
    numeroContainer.style.padding = '20px';
    numeroContainer.style.width = '100%';
    numeroContainer.style.height = '100%';

    const numeroTitle = document.createElement('h1');
    numeroTitle.style.color = 'white';
    numeroTitle.textContent = numeroAleatorio;
    numeroContainer.appendChild(numeroTitle);

    const categoriesContainer = document.getElementById('categoriesContainer');
    categoriesContainer.innerHTML = ''; // Limpiar contenido existente
    categoriesContainer.appendChild(numeroContainer);

    reproducirSonido("https://weareat.work/mixkit-flute-cell-phone-alert-2315.wav");
  }

  function rotarNumeroAleatorio() {
    mostrarNumeroFijo(); // Mostrar un nuevo número aleatorio
  }

  function reproducirSonido(url) {
    const sonido = new Audio(url);
    sonido.play().catch(error => console.error("Error al reproducir el sonido:", error));
  }
});
</script>

</body>
</html>
